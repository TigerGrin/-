# é•œåƒä»“åº“é€‰æ‹©æŒ‡å—

ç”±äº Docker Hub åœ¨å›½å†…è®¿é—®å›°éš¾ï¼Œè¿™é‡Œæä¾›å¤šä¸ªæ›¿ä»£æ–¹æ¡ˆï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ã€‚

## ğŸ¯ æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ | æ¨èåº¦ |
|------|------|------|--------|
| **GitHub Container Registry** | å…è´¹ã€æ— éœ€é¢å¤–è´¦å·ã€å›½å†…å¯è®¿é—® | é¦–æ¬¡éœ€è®¾ç½®ä¸ºå…¬å¼€ | â­â­â­â­â­ |
| **é˜¿é‡Œäº‘ ACR** | å›½å†…è®¿é—®å¿«ã€ç¨³å®š | éœ€è¦é˜¿é‡Œäº‘è´¦å· | â­â­â­â­ |
| **è…¾è®¯äº‘ TCR** | å›½å†…è®¿é—®å¿«ã€ç¨³å®š | éœ€è¦è…¾è®¯äº‘è´¦å· | â­â­â­â­ |
| **Docker Hub** | å…¨çƒé€šç”¨ | å›½å†…è®¿é—®å›°éš¾ | â­â­ |

## ğŸš€ æ–¹æ¡ˆä¸€ï¼šGitHub Container Registryï¼ˆæ¨èï¼‰

### ä¼˜ç‚¹
- âœ… **å®Œå…¨å…è´¹**
- âœ… **æ— éœ€é¢å¤–æ³¨å†Œè´¦å·**ï¼ˆä½¿ç”¨ GitHub è´¦å·ï¼‰
- âœ… **å›½å†…å¯ä»¥è®¿é—®**
- âœ… **ä¸ GitHub Actions å®Œç¾é›†æˆ**
- âœ… **è‡ªåŠ¨ä½¿ç”¨ GITHUB_TOKENï¼Œæ— éœ€é…ç½®å¯†é’¥**

### é…ç½®æ­¥éª¤

1. **ä½¿ç”¨å·²åˆ›å»ºçš„å·¥ä½œæµæ–‡ä»¶**
   - æ–‡ä»¶ï¼š`.github/workflows/build-ghcr.yml`
   - è¿™ä¸ªæ–‡ä»¶å·²ç»é…ç½®å¥½ï¼Œ**æ— éœ€é…ç½®ä»»ä½• Secrets**ï¼

2. **é‡å‘½åå·¥ä½œæµæ–‡ä»¶**
   ```bash
   # åˆ é™¤æˆ–é‡å‘½åæ—§çš„ build.ymlï¼ˆå¦‚æœå­˜åœ¨ï¼‰
   git mv .github/workflows/build.yml .github/workflows/build.yml.bak
   
   # ä½¿ç”¨æ–°çš„ GHCR å·¥ä½œæµ
   git mv .github/workflows/build-ghcr.yml .github/workflows/build.yml
   ```

3. **æ¨é€ä»£ç **
   ```bash
   git add .github/workflows/
   git commit -m "Switch to GitHub Container Registry"
   git push origin main
   ```

4. **è®¾ç½®é•œåƒä¸ºå…¬å¼€ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰**
   - æ„å»ºå®Œæˆåï¼Œè®¿é—®ï¼š`https://github.com/æ‚¨çš„ç”¨æˆ·å?tab=packages`
   - æ‰¾åˆ° `hospital-schedule-system` åŒ…
   - ç‚¹å‡»åŒ… â†’ Package settings â†’ Change visibility â†’ Make public

### é•œåƒåœ°å€æ ¼å¼

```
ghcr.io/<æ‚¨çš„GitHubç”¨æˆ·å>/hospital-schedule-system:latest
```

åœ¨ Sealos ä½¿ç”¨ï¼š
- é•œåƒåï¼š`ghcr.io/yourusername/hospital-schedule-system:latest`
- é•œåƒä»“åº“åœ°å€ï¼šç•™ç©ºæˆ–å¡«å†™ `ghcr.io`

---

## ğŸ‡¨ğŸ‡³ æ–¹æ¡ˆäºŒï¼šé˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡ï¼ˆå›½å†…æ¨èï¼‰

### ä¼˜ç‚¹
- âœ… **å›½å†…è®¿é—®é€Ÿåº¦å¿«**
- âœ… **ç¨³å®šå¯é **
- âœ… **æœ‰å…è´¹é¢åº¦**

### é…ç½®æ­¥éª¤

1. **æ³¨å†Œé˜¿é‡Œäº‘è´¦å·**
   - è®¿é—®ï¼šhttps://www.aliyun.com/
   - æ³¨å†Œå¹¶å®åè®¤è¯

2. **å¼€é€šå®¹å™¨é•œåƒæœåŠ¡**
   - ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°
   - æœç´¢"å®¹å™¨é•œåƒæœåŠ¡ ACR"
   - å¼€é€šæœåŠ¡ï¼ˆä¸ªäººç‰ˆå…è´¹ï¼‰

3. **åˆ›å»ºå‘½åç©ºé—´**
   - è¿›å…¥å®¹å™¨é•œåƒæœåŠ¡æ§åˆ¶å°
   - åˆ›å»ºå‘½åç©ºé—´ï¼ˆå¦‚ï¼š`your-namespace`ï¼‰

4. **åˆ›å»ºè®¿é—®å‡­è¯**
   - è¿›å…¥"è®¿é—®å‡­è¯"é¡µé¢
   - è®¾ç½®å›ºå®šå¯†ç ï¼ˆç”¨äº GitHub Actionsï¼‰

5. **é…ç½® GitHub Secrets**
   - åœ¨ GitHub ä»“åº“ Settings â†’ Secrets â†’ Actions
   - æ·»åŠ ä»¥ä¸‹å¯†é’¥ï¼š
     - `ALIYUN_ACR_USERNAME`ï¼šæ‚¨çš„é˜¿é‡Œäº‘è´¦å·ç”¨æˆ·å
     - `ALIYUN_ACR_PASSWORD`ï¼šæ‚¨è®¾ç½®çš„å›ºå®šå¯†ç 
     - `ALIYUN_ACR_NAMESPACE`ï¼šæ‚¨åˆ›å»ºçš„å‘½åç©ºé—´

6. **ä½¿ç”¨å·¥ä½œæµæ–‡ä»¶**
   - æ–‡ä»¶ï¼š`.github/workflows/build-aliyun.yml`
   - ä¿®æ”¹ `REGISTRY` ä¸ºæ‚¨çš„åŒºåŸŸï¼ˆå¦‚ï¼š`registry.cn-hangzhou.aliyuncs.com`ï¼‰
   - é‡å‘½åä¸º `build.yml` æˆ–ç›´æ¥ä½¿ç”¨

7. **æ¨é€ä»£ç **
   ```bash
   git add .github/workflows/build-aliyun.yml
   git commit -m "Use Aliyun ACR"
   git push origin main
   ```

### é•œåƒåœ°å€æ ¼å¼

```
registry.cn-hangzhou.aliyuncs.com/<å‘½åç©ºé—´>/hospital-schedule-system:latest
```

åœ¨ Sealos ä½¿ç”¨ï¼š
- é•œåƒåï¼š`your-namespace/hospital-schedule-system:latest`
- é•œåƒä»“åº“åœ°å€ï¼š`registry.cn-hangzhou.aliyuncs.com`

---

## ğŸ‡¨ğŸ‡³ æ–¹æ¡ˆä¸‰ï¼šè…¾è®¯äº‘å®¹å™¨é•œåƒæœåŠ¡

### é…ç½®æ­¥éª¤

1. **æ³¨å†Œè…¾è®¯äº‘è´¦å·**
   - è®¿é—®ï¼šhttps://cloud.tencent.com/

2. **å¼€é€šå®¹å™¨é•œåƒæœåŠ¡ TCR**
   - ç™»å½•è…¾è®¯äº‘æ§åˆ¶å°
   - å¼€é€šå®¹å™¨é•œåƒæœåŠ¡

3. **åˆ›å»ºå‘½åç©ºé—´å’Œé•œåƒä»“åº“**

4. **é…ç½® GitHub Secrets**
   - `TENCENT_TCR_USERNAME`ï¼šè…¾è®¯äº‘è´¦å· ID
   - `TENCENT_TCR_PASSWORD`ï¼šè®¿é—®å‡­è¯
   - `TENCENT_TCR_NAMESPACE`ï¼šå‘½åç©ºé—´

5. **åˆ›å»ºå·¥ä½œæµæ–‡ä»¶**ï¼ˆç±»ä¼¼é˜¿é‡Œäº‘é…ç½®ï¼‰

---

## ğŸ“ å¿«é€Ÿåˆ‡æ¢æŒ‡å—

### ä» Docker Hub åˆ‡æ¢åˆ° GitHub Container Registry

```bash
# 1. å¤‡ä»½æ—§æ–‡ä»¶
git mv .github/workflows/build.yml .github/workflows/build-dockerhub.yml.bak

# 2. ä½¿ç”¨ GHCR å·¥ä½œæµ
git mv .github/workflows/build-ghcr.yml .github/workflows/build.yml

# 3. æäº¤å¹¶æ¨é€
git add .github/workflows/
git commit -m "Switch to GitHub Container Registry"
git push origin main
```

### ä» Docker Hub åˆ‡æ¢åˆ°é˜¿é‡Œäº‘ ACR

```bash
# 1. å¤‡ä»½æ—§æ–‡ä»¶
git mv .github/workflows/build.yml .github/workflows/build-dockerhub.yml.bak

# 2. ä½¿ç”¨é˜¿é‡Œäº‘å·¥ä½œæµ
git mv .github/workflows/build-aliyun.yml .github/workflows/build.yml

# 3. é…ç½® Secretsï¼ˆåœ¨ GitHub ä»“åº“è®¾ç½®ä¸­ï¼‰

# 4. æäº¤å¹¶æ¨é€
git add .github/workflows/
git commit -m "Switch to Aliyun ACR"
git push origin main
```

## ğŸ¯ æ¨èæ–¹æ¡ˆ

**å¦‚æœæ‚¨æƒ³æœ€ç®€å•å¿«é€Ÿï¼š**
ğŸ‘‰ ä½¿ç”¨ **GitHub Container Registry**ï¼ˆæ–¹æ¡ˆä¸€ï¼‰
- æ— éœ€æ³¨å†Œé¢å¤–è´¦å·
- æ— éœ€é…ç½® Secrets
- å›½å†…å¯ä»¥è®¿é—®

**å¦‚æœæ‚¨éœ€è¦æ›´å¿«çš„å›½å†…è®¿é—®é€Ÿåº¦ï¼š**
ğŸ‘‰ ä½¿ç”¨ **é˜¿é‡Œäº‘ ACR**ï¼ˆæ–¹æ¡ˆäºŒï¼‰
- å›½å†…è®¿é—®é€Ÿåº¦æœ€å¿«
- ç¨³å®šå¯é 

## ğŸ“ å¸¸è§é—®é¢˜

### Q1: GitHub Container Registry éœ€è¦ä»˜è´¹å—ï¼Ÿ
ä¸éœ€è¦ï¼Œå®Œå…¨å…è´¹ã€‚

### Q2: å¦‚ä½•æŸ¥çœ‹æ„å»ºçš„é•œåƒï¼Ÿ
- GitHub Container Registryï¼šè®¿é—® `https://github.com/æ‚¨çš„ç”¨æˆ·å?tab=packages`
- é˜¿é‡Œäº‘ ACRï¼šåœ¨å®¹å™¨é•œåƒæœåŠ¡æ§åˆ¶å°æŸ¥çœ‹

### Q3: Sealos å¯ä»¥æ‹‰å–è¿™äº›é•œåƒå—ï¼Ÿ
å¯ä»¥ï¼Sealos æ”¯æŒæ‹‰å–ï¼š
- GitHub Container Registryï¼ˆghcr.ioï¼‰
- é˜¿é‡Œäº‘ ACR
- è…¾è®¯äº‘ TCR
- å…¶ä»–å…¬å…±é•œåƒä»“åº“

### Q4: é•œåƒè®¾ç½®ä¸ºå…¬å¼€å®‰å…¨å—ï¼Ÿ
å¯¹äºå‰ç«¯åº”ç”¨ï¼Œé•œåƒè®¾ç½®ä¸ºå…¬å¼€æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºï¼š
- åªåŒ…å«æ„å»ºåçš„é™æ€æ–‡ä»¶
- ä¸åŒ…å«æºä»£ç 
- ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯

---

**æ¨èï¼šç›´æ¥ä½¿ç”¨ GitHub Container Registryï¼Œæœ€ç®€å•ï¼** ğŸš€

